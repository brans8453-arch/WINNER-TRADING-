<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>üèÜ WINNER TRADING ‚Äî Demo Exchange</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://s3.tradingview.com/tv.js"></script>

<style>
body{background:#0b0f1a;color:#fff;font-family:Arial}
.navbar{background:#020617}
.card{background:#111827;border:1px solid #1f2937}
.btn-main{background:#22c55e;color:#000;font-weight:bold}
.btn-main:hover{background:#16a34a}
small{color:#9ca3af}
.badge-demo{background:#f59e0b}
</style>
</head>

<body>

<nav class="navbar navbar-dark px-3">
<span class="navbar-brand">üèÜ WINNER TRADING <small class="badge badge-demo">DEMO</small></span>
<button class="btn btn-outline-light btn-sm" onclick="logout()">D√©connexion</button>
</nav>

<div class="container my-4">

<!-- LOGIN -->
<div id="loginBox" class="card p-4">
<h4>Connexion</h4>
<input id="email" class="form-control mb-2" placeholder="Email">
<input id="pass" type="password" class="form-control mb-2" placeholder="Mot de passe">
<input id="refcode" class="form-control mb-2" placeholder="Code parrain (optionnel)">
<button class="btn btn-main w-100" onclick="login()">Se connecter</button>
<button class="btn btn-link text-light mt-2" onclick="register()">Cr√©er un compte</button>
</div>

<!-- USER -->
<div id="userBox" style="display:none">

<div class="row g-3">
<div class="col-md-4">

<div class="card p-3">
<h5>Wallet (D√©mo)</h5>
<p>USDT: <b id="usdt">0</b></p>
<p>BTC: <b id="btc">0</b></p>
<p>ETH: <b id="eth">0</b></p>
<p>SOL: <b id="sol">0</b></p>
<hr>
<p>Code parrain: <b id="myref"></b></p>
<p>KYC: <span id="kycStatus" class="badge bg-danger">Non v√©rifi√©</span></p>
<button class="btn btn-sm btn-outline-light mt-2" onclick="verifyKYC()">Simuler KYC</button>
</div>

<div class="card p-3 mt-3">
<h5>Trading</h5>
<select id="pair" class="form-control mb-2">
<option value="BTC">BTC/USDT</option>
<option value="ETH">ETH/USDT</option>
<option value="SOL">SOL/USDT</option>
</select>
<input id="amount" class="form-control mb-2" placeholder="Montant USDT">
<button class="btn btn-main w-100 mb-2" onclick="buy()">Acheter</button>
<button class="btn btn-outline-danger w-100" onclick="sell()">Vendre</button>
</div>

</div>

<div class="col-md-8">

<div class="card p-2 mb-3">
<div id="tvchart" style="height:400px"></div>
</div>

<div class="card p-3">
<h5>Historique</h5>
<ul id="history" class="small"></ul>
</div>

</div>
</div>
</div>

<!-- ADMIN -->
<div id="adminBox" style="display:none">
<div class="card p-4">
<h4>Interface Administrateur</h4>
<p>Capital plateforme: <b>200 000 USDT (d√©mo)</b></p>
<p>Total utilisateurs: <b id="totalUsers"></b></p>
<ul id="adminUsers"></ul>
</div>
</div>

<hr class="my-4">
<p class="text-center small">
‚ö†Ô∏è Plateforme de d√©monstration uniquement. Aucun argent r√©el. Aucun conseil financier.
</p>

</div>

<script>
let users=JSON.parse(localStorage.users||"{}");
let current=null;

let prices={BTC:42000,ETH:2300,SOL:95};
setInterval(()=>{for(let p in prices){prices[p]+=(Math.random()-0.5)*50}},2000);

function register(){
if(!email.value||!pass.value)return alert("Champs requis");
let ref="WT"+Math.floor(Math.random()*9000+1000);
users[email.value]={
pass:pass.value,
wallet:{USDT:1000,BTC:0,ETH:0,SOL:0},
history:["Bonus bienvenue 1000 USDT"],
ref:ref,
team:[],
kyc:false
};
if(refcode.value && users[refcode.value]){
users[refcode.value].wallet.USDT+=5;
users[refcode.value].team.push(email.value);
}
localStorage.users=JSON.stringify(users);
alert("Compte cr√©√© avec succ√®s");
}

function login(){
if(email.value==="admin"&&pass.value==="admin123"){
loginBox.style.display="none";
adminBox.style.display="block";
loadAdmin();
return;
}
if(!users[email.value]||users[email.value].pass!==pass.value)return alert("Erreur connexion");
current=email.value;
loginBox.style.display="none";
userBox.style.display="block";
loadUser();
loadChart();
}

function logout(){location.reload()}

function loadUser(){
let u=users[current];
usdt.innerText=u.wallet.USDT.toFixed(2);
btc.innerText=u.wallet.BTC.toFixed(6);
eth.innerText=u.wallet.ETH.toFixed(6);
sol.innerText=u.wallet.SOL.toFixed(6);
myref.innerText=u.ref;
kycStatus.innerText=u.kyc?"V√©rifi√©":"Non v√©rifi√©";
kycStatus.className=u.kyc?"badge bg-success":"badge bg-danger";
history.innerHTML=u.history.map(h=>"<li>"+h+"</li>").join("");
}

function verifyKYC(){
users[current].kyc=true;
users[current].history.push("KYC v√©rifi√© (d√©mo)");
save();
}

function buy(){
let u=users[current],a=+amount.value,p=pair.value;
if(u.wallet.USDT<a)return alert("Solde insuffisant");
u.wallet.USDT-=a;
u.wallet[p]+=a/prices[p];
u.history.push("BUY "+p+" "+a+" USDT");
save();
}

function sell(){
let u=users[current],a=+amount.value,p=pair.value;
let q=a/prices[p];
if(u.wallet[p]<q)return alert("Crypto insuffisante");
u.wallet[p]-=q;
u.wallet.USDT+=a;
u.history.push("SELL "+p+" "+a+" USDT");
save();
}

function save(){
localStorage.users=JSON.stringify(users);
loadUser();
}

function loadAdmin(){
adminUsers.innerHTML=Object.keys(users).map(u=>{
return "<li>"+u+" ‚Äî "+users[u].wallet.USDT.toFixed(2)+" USDT</li>";
}).join("");
totalUsers.innerText=Object.keys(users).length;
}

function loadChart(){
new TradingView.widget({
container_id:"tvchart",
symbol:"BINANCE:BTCUSDT",
interval:"15",
theme:"dark",
locale:"fr"
});
}
</script>

</body>
</html>
