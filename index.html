<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>WINNER TRADING Exchange Demo</title>

<script src="https://s3.tradingview.com/tv.js"></script>

<style>
body{margin:0;font-family:Arial;background:#111;color:white;scroll-behavior:smooth}
header{position:fixed;width:100%;background:#083c2f;padding:10px;z-index:10;display:flex;justify-content:space-between}
.logo{font-weight:bold;color:#00ffa6}
.menuBtn{background:#ff8800;border:none;color:white;padding:8px;border-radius:6px}
.menu{position:fixed;top:50px;right:10px;background:#222;padding:10px;border-radius:6px;display:none}
.menu button{display:block;width:100%;margin:5px 0;background:#00c26e;border:none;color:white;padding:8px;border-radius:5px}
section{min-height:100vh;padding:80px 15px}
.card{background:#1c1c1c;padding:12px;border-radius:10px;margin:8px 0}
h2{color:#00ffa6}
input,select{width:100%;padding:7px;margin:4px 0;border:none;border-radius:5px}
button.action{background:#00c26e;border:none;padding:8px;width:100%;color:white;border-radius:6px}
.orange{background:#ff8800}
.hidden{display:none}
#notif{position:fixed;top:60px;right:10px;background:#00c26e;padding:10px;border-radius:6px;display:none}
table{width:100%;font-size:13px}
.green{color:#0f0}
.red{color:#f44}
</style>
</head>

<body>

<header>
<span class="logo">üèÜ WINNER TRADING</span>
<button class="menuBtn" onclick="toggleMenu()">‚ò∞</button>
</header>

<div id="menu" class="menu">
<button onclick="show('login')">Connexion</button>
<button onclick="show('register')">Cr√©er compte</button>
</div>

<div id="notif"></div>

<!-- ACCUEIL -->
<section id="home">
<h2>March√© Crypto Temps R√©el</h2>
<div id="chart" style="height:400px;"></div>

<div class="card">
Exchange d√©mo moderne inspir√© de Binance Lite.
<button class="action" onclick="show('register')">Trader maintenant</button>
</div>

<div class="card">
BTC ‚Ä¢ ETH ‚Ä¢ SOL ‚Ä¢ BNB ‚Ä¢ XRP ‚Ä¢ USDT
</div>

<div class="card">
Devise : "Tradez malin, gagnez ensemble."
</div>

<div class="card">
<h2>Communaut√© WINNER TRADING</h2>
Utilisateurs actifs : 18 000+<br>
Plateforme innovante depuis 2024<br>
Donn√©es prot√©g√©es üîí
</div>
</section>

<!-- LOGIN -->
<section id="login" class="hidden">
<h2>Connexion</h2>
<input id="loginEmail" placeholder="Email">
<input id="loginPass" placeholder="Mot de passe">
<button class="action" onclick="login()">Connexion</button>
<p>Admin: admin / admin123</p>
</section>

<!-- REGISTER -->
<section id="register" class="hidden">
<h2>Cr√©er compte</h2>
<input id="regEmail" placeholder="Email">
<input id="regPass" placeholder="Mot de passe 6 chiffres">
<input id="refCode" placeholder="Code parrain obligatoire">
<button class="action" onclick="register()">Cr√©er compte</button>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="hidden">
<h2>Dashboard Utilisateur</h2>

<div class="card">
Solde total: <span id="totalBalance"></span> USDT
<button onclick="toggleBalance()">Afficher/Masquer</button>
</div>

<div class="card">
<h3>Wallet multi crypto</h3>
<div id="wallets"></div>
</div>

<div class="card">
<h3>D√©p√¥t simul√©</h3>
<input id="depositAmount" placeholder="Montant">
<button class="action" onclick="deposit()">Cliquer ici pour d√©poser</button>
</div>

<div class="card">
<h3>Trading</h3>
<select id="coin">
<option>BTC</option>
<option>ETH</option>
<option>SOL</option>
</select>
<input id="amount" placeholder="Montant USDT">
<button class="action" onclick="buy()">Cliquer ici pour Acheter</button>
<button class="action orange" onclick="sell()">Cliquer ici pour Vendre</button>
</div>

<div class="card">
<h3>Signal automatique</h3>
<button class="action" onclick="tradeSignal()">Cliquer ici pour Trader Signal</button>
</div>

<div class="card">
<h3>Parrainage</h3>
<p id="refText"></p>
</div>
</section>

<!-- ADMIN -->
<section id="admin" class="hidden">
<h2>Interface Administrateur</h2>

<div class="card">
Capital plateforme: 200000 USDT
</div>

<div class="card">
<button class="action" onclick="renderUsers()">Cliquer ici pour voir utilisateurs</button>
<div id="userList"></div>
</div>

<div class="card">
<button class="action" onclick="renderGlobalHistory()">Cliquer ici pour voir historique</button>
<div id="globalHistory"></div>
</div>
</section>

<script>
// Graphique
new TradingView.widget({
container_id:"chart",
width:"100%",
height:400,
symbol:"BINANCE:BTCUSDT",
interval:"30",
theme:"dark"
});

// Notifications
function notify(msg){
let n=document.getElementById("notif");
n.innerText=msg;
n.style.display="block";
setTimeout(()=>n.style.display="none",2500);
}

// Menu
function toggleMenu(){
let m=document.getElementById("menu");
m.style.display=m.style.display==="block"?"none":"block";
}

// Navigation
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
toggleMenu();
}

// Base utilisateurs
let users=JSON.parse(localStorage.users||"{}");
let historyGlobal=[];
let currentUser=null;

// G√©n√©rer code parrain manquant
for(let u in users){
if(!users[u].ref)
users[u].ref="WT"+Math.floor(Math.random()*9999);
}

// Inscription
function register(){
let email=regEmail.value;
let pass=regPass.value;
let ref=refCode.value;
if(!ref)return notify("Code parrain requis");

users[email]={
pass,
wallet:{USDT:0,BTC:0,ETH:0,SOL:0},
history:[],
ref:"WT"+Math.floor(Math.random()*9999),
bonusGiven:false
};

localStorage.users=JSON.stringify(users);
notify("Compte cr√©√©");
show("login");
}

// Connexion
function login(){
if(loginEmail.value==="admin" && loginPass.value==="admin123"){
show("admin");
document.querySelector(".menuBtn").style.display="none";
renderUsers();
return;
}

let u=users[loginEmail.value];
if(!u || u.pass!==loginPass.value)
return notify("Connexion refus√©e");

currentUser=loginEmail.value;
updateWallet();
refText.innerText="Votre code: "+u.ref;

document.querySelector(".menuBtn").style.display="none";
show("dashboard");
}

// Wallet
function updateWallet(){
let w=users[currentUser].wallet;
wallets.innerHTML="";
let total=0;
for(let k in w){
wallets.innerHTML+=k+" : "+w[k]+"<br>";
if(k==="USDT") total+=w[k];
}
totalBalance.innerText=total;
localStorage.users=JSON.stringify(users);
}

// D√©p√¥t + bonus
function deposit(){
let amount=parseFloat(depositAmount.value);
let u=users[currentUser];
u.wallet.USDT+=amount;

if(!u.bonusGiven){
u.wallet.USDT+=8;
u.bonusGiven=true;
notify("Bonus de 8 USDT ajout√©");
}

notify("D√©p√¥t confirm√©");
updateWallet();
}

// Achat
function buy(){
let amt=parseFloat(amount.value);
let coin=document.getElementById("coin").value;

if(users[currentUser].wallet.USDT<amt)
return notify("Solde insuffisant");

users[currentUser].wallet.USDT-=amt;
users[currentUser].wallet[coin]+=amt/1000;
updateWallet();
}

// Vente
function sell(){
let amt=parseFloat(amount.value);
let coin=document.getElementById("coin").value;

users[currentUser].wallet.USDT+=amt;
users[currentUser].wallet[coin]-=amt/1000;
updateWallet();
}

// Signal
function tradeSignal(){
let gain=Math.floor(Math.random()*20)+5;
users[currentUser].wallet.USDT+=gain;
notify("Signal gagn√© +" + gain);
updateWallet();
}

// Admin liste utilisateurs
function renderUsers(){
userList.innerHTML=Object.keys(users)
.map(u=>u+" : "+users[u].wallet.USDT+" USDT")
.join("<br>");
}

// Historique global
function renderGlobalHistory(){
globalHistory.innerHTML="Activit√©s simul√©es en temps r√©el";
}

// Masquer solde
function toggleBalance(){
let t=document.getElementById("totalBalance");
t.style.visibility=t.style.visibility==="hidden"?"visible":"hidden";
}
</script>

</body>
</html>
